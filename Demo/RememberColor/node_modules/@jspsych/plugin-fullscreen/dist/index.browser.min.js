var jsPsychFullscreen=function(e){"use strict";function t(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}var n={name:"fullscreen",parameters:{fullscreen_mode:{type:e.ParameterType.BOOL,pretty_name:"Fullscreen mode",default:!0,array:!1},message:{type:e.ParameterType.HTML_STRING,pretty_name:"Message",default:"<p>The experiment will switch to full screen mode when you press the button below</p>",array:!1},button_label:{type:e.ParameterType.STRING,pretty_name:"Button label",default:"Continue",array:!1},delay_after:{type:e.ParameterType.INT,pretty_name:"Delay after",default:1e3,array:!1}}},l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsPsych=t,this.rt=null,this.start_time=0}var n,l,s;return n=e,(l=[{key:"trial",value:function(e,t){"undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element?this.endTrial(e,!1,t):t.fullscreen_mode?this.showDisplay(e,t):(this.exitFullScreen(),this.endTrial(e,!0,t))}},{key:"showDisplay",value:function(e,t){var n=this;e.innerHTML="\n      ".concat(t.message,'\n      <button id="jspsych-fullscreen-btn" class="jspsych-btn">').concat(t.button_label,"</button>\n    "),e.querySelector("#jspsych-fullscreen-btn").addEventListener("click",(function(){n.rt=Math.round(performance.now()-n.start_time),n.enterFullScreen(),n.endTrial(e,!0,t)})),this.start_time=performance.now()}},{key:"endTrial",value:function(e,t,n){var l=this;e.innerHTML="",this.jsPsych.pluginAPI.setTimeout((function(){var e={success:t,rt:l.rt};l.jsPsych.finishTrial(e)}),n.delay_after)}},{key:"enterFullScreen",value:function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}},{key:"exitFullScreen",value:function(){(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}},{key:"simulate",value:function(e,t,n,l){"data-only"==t&&(l(),this.simulate_data_only(e,n)),"visual"==t&&this.simulate_visual(e,n,l)}},{key:"create_simulation_data",value:function(e,t){var n={success:!0,rt:this.jsPsych.randomization.sampleExGaussian(1e3,100,.005,!0)};return this.jsPsych.pluginAPI.mergeSimulationData(n,t)}},{key:"simulate_data_only",value:function(e,t){var n=this.create_simulation_data(e,t);this.jsPsych.finishTrial(n)}},{key:"simulate_visual",value:function(e,t,n){var l=this.create_simulation_data(e,t),s=this.jsPsych.getDisplayElement();!1===l.success?this.endTrial(s,!1,e):(this.trial(s,e),n(),this.jsPsych.pluginAPI.clickTarget(s.querySelector("#jspsych-fullscreen-btn"),l.rt))}}])&&t(n.prototype,l),s&&t(n,s),Object.defineProperty(n,"prototype",{writable:!1}),e}();return l.info=n,l}(jsPsychModule);
//# sourceMappingURL=index.browser.min.js.map
