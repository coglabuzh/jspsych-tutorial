var jsPsychSurveyHtmlForm=function(e){"use strict";function t(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r={name:"survey-html-form",parameters:{html:{type:e.ParameterType.HTML_STRING,pretty_name:"HTML",default:null},preamble:{type:e.ParameterType.HTML_STRING,pretty_name:"Preamble",default:null},button_label:{type:e.ParameterType.STRING,pretty_name:"Button label",default:"Continue"},autofocus:{type:e.ParameterType.STRING,pretty_name:"Element ID to focus",default:""},dataAsArray:{type:e.ParameterType.BOOL,pretty_name:"Data As Array",default:!1},autocomplete:{type:e.ParameterType.BOOL,pretty_name:"Allow autocomplete",default:!1}}},a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsPsych=t}var r,a,n;return r=e,(a=[{key:"trial",value:function(e,t){var r=this,a="";if(null!==t.preamble&&(a+='<div id="jspsych-survey-html-form-preamble" class="jspsych-survey-html-form-preamble">'+t.preamble+"</div>"),t.autocomplete?a+='<form id="jspsych-survey-html-form">':a+='<form id="jspsych-survey-html-form" autocomplete="off">',a+=t.html,a+='<input type="submit" id="jspsych-survey-html-form-next" class="jspsych-btn jspsych-survey-html-form" value="'+t.button_label+'"></input>',a+="</form>",e.innerHTML=a,""!==t.autofocus){var n=e.querySelectorAll("#"+t.autofocus);0===n.length?console.warn("No element found with id: "+t.autofocus):n.length>1?console.warn('The id "'+t.autofocus+'" is not unique so autofocus will not work.'):n[0].focus()}e.querySelector("#jspsych-survey-html-form").addEventListener("submit",(function(a){a.preventDefault();var n=performance.now(),l=Math.round(n-o),u=
/**
         * Serialize all form data into an array
         * @copyright (c) 2018 Chris Ferdinandi, MIT License, https://gomakethings.com
         * @param  {Node}   form The form to serialize
         * @return {String}      The serialized form data
         */
function(e){for(var t=[],r=0;r<e.elements.length;r++){var a=e.elements[r];if(a.name&&!a.disabled&&"file"!==a.type&&"reset"!==a.type&&"submit"!==a.type&&"button"!==a.type)if("select-multiple"===a.type)for(var n=0;n<a.options.length;n++)a.options[n].selected&&t.push({name:a.name,value:a.options[n].value});else("checkbox"!==a.type&&"radio"!==a.type||a.checked)&&t.push({name:a.name,value:a.value})}return t}(e.querySelector("#jspsych-survey-html-form"));t.dataAsArray||(u=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].name]=e[r].value;return t}(u));var s={rt:l,response:u};e.innerHTML="",r.jsPsych.finishTrial(s)}));var o=performance.now()}}])&&t(r.prototype,a),n&&t(r,n),Object.defineProperty(r,"prototype",{writable:!1}),e}();return a.info=r,a}(jsPsychModule);
//# sourceMappingURL=index.browser.min.js.map
